export default class Validator{constructor(defaultMessage){this.defaultMessage=defaultMessage,this.message="",this.steps=[],this.failed=!1}_stepExists(name){for(let i=0;i<this.steps.length;i++)if(this.steps[i].name==name)return!0;return!1}addStep(name,callback,message){this.steps.push({name:name,callback:callback,message:message})}required(message){return this.addStep("required",v=>void 0!==v&&""!==String(v),message),this}run(value){this.failed=!1;for(let i=0;i<this.steps.length;i++)if(!this.steps[i].callback(value))return this.fail(this.steps[i].message);return!0}fail(message){return this.failed=!0,this.setMessage(message),!1}setMessage(message){this.message=message}getMessage(){return this.message&&""!=this.message?this.message:this.defaultMessage}};